---
title: Mean, Standard deviation
grand_parent: Statistics
parent: Frequencies and Probabilities
has_children: false
nav_order: 1
---
## Mean, Standard deviation and Frequency diagram
{: .no_toc }
Frequency diagram along with mean and standard deviation is plotted for the give data of heights of 100 children.

For beginners of statistics, the question and formulation of mean and standard deviation can be found [here](https://pleasesolve.wordpress.com/statistics/mean-standard-deviation/){:target="_blank"}. And for a fun explanation on moment of area and its relationship with mean and standard deviation can be found in this [Youtube video](https://www.youtube.com/watch?v=zzxFSbJzoDI){:target="_blank"}.

The implementation here takes an object oriented programming approach, explained in this [Youtube video]. 
|Python|R|
|:---:|:---:|
|Numerical inputs are arrays|Numerical inputs are vectors|
|Objects are created with `class`|Objects are created with `setRefClass`|
|Plotting tool: `matplotlib`|Plotting tool: `ggplot2`|

## Table of contents
{: .no_toc .text-delta }

1. TOC
{:toc}

## Python implementation
```python
import numpy as np
from matplotlib import pyplot as plt 
from matplotlib import markers as marks
%matplotlib inline
```


```python
#Data
heights = np.array([150,153,156,159,162,165,168,171,174])
freq = np.array([2,0,15,29,25,12,10,4,3])
```

### Creating a plotting object 
```python
# Creating a plotting object 
class drawdata:
    def __init__(self,values,frequencies,xaxname,yaxname):
        self.x = values
        self.y = frequencies
        self.xaxname = xaxname
        self.yaxname = yaxname
    def drawfreq(self):
        self.font = {'family': 'serif',
        'color':  'darkblue',
        'weight': 'normal',
        'size': 16,
        }
        plt.grid(linewidth=0.2)
        plt.bar(self.x,self.y,width=3,fill=False,linewidth=1)
        plt.xlabel(self.xaxname,size=20,fontdict=self.font)
        plt.ylabel(self.yaxname,size=20,fontdict=self.font)     
        plt.plot(self.x,self.y,'o-')
        plt.xticks(range(self.x[0],self.x[-1]+1,3),fontsize=14)
        plt.yticks(fontsize=15)    
    def showmean(self):
        self.drawfreq()
        self.mean_val = np.sum(self.x*self.y)/np.sum(self.y)
        print('Mean value:', self.mean_val)
        plt.ylim((-10,max(self.y)+1))
        plt.plot(self.mean_val,0,marker=marks.CARETUP,markersize=15)
        plt.text(x=self.mean_val-2,y=-5,s='mean',fontdict=self.font)
    def showstd(self):
        self.drawfreq()
        self.showmean()
        variance = np.sum((self.x-self.mean_val)**2*self.y)/np.sum(self.y)
        self.sd_val = np.sqrt(variance)
        print('Standard deviation:', self.sd_val)
        plt.axvline(x=self.mean_val,color='black',linestyle='-.',linewidth=4)
        plt.axvline(x=self.mean_val+self.sd_val,color='black',linestyle='-.',linewidth=2)
        plt.axvline(x=self.mean_val-self.sd_val,color='black',linestyle='-.',linewidth=2)
        plt.axvline(x=self.mean_val+2*self.sd_val,color='black',linestyle='-.',linewidth=1)
        plt.axvline(x=self.mean_val-2*self.sd_val,color='black',linestyle='-.',linewidth=1)
```
### Calling the object
```python
datafigs = drawdata(heights,freq,'Height in cm','Frequencies')
```
### Figures that describe statistics
```python
datafigs.drawfreq()
```
![png](/assets/images/ch1/py_1_files/2020-07-01-1python-freq-diag-mean-std_3_0.png)

```python
datafigs.showmean()
```
![png](/assets/images/ch1/py_1_files/2020-07-01-1python-freq-diag-mean-std_5_2.png)


```python
datafigs.showstd()
```
![png](/assets/images/ch1/py_1_files/2020-07-01-1python-freq-diag-mean-std_6_2.png)

## R implementation

```R
library('ggplot2')
heights <- c(150,153,156,159,162,165,168,171,174)
freq <- c(2,0,15,29,25,12,10,4,3)
```

### Creating a plotting object 
```R
drawdata <- setRefClass("drawdata",fields = list(values = "numeric", freqs = "numeric",
                                               xaxname="character",yaxname="character"),
                     methods=list(
                         draw_freq = function(){
                             df <- data.frame(rep(values,times=freqs))
                             #Plotting layer by layer                                                                                                   
                             plyrs <- ggplot(data=df, aes(x=df[,1]),label.size=5) + 
                             geom_histogram(binwidth = 3, fill = 'grey', colour = 'black') +
                             geom_freqpoly(binwidth = 3) +
                             scale_x_continuous(name = xaxname, breaks = values,labels = values) +
                             scale_y_continuous(name = 'Frequencies',breaks = seq(min(freqs),max(freqs),2),
                                                labels=seq(min(freqs),max(freqs),2))+
                             theme(axis.text=element_text(size=22),
                                   axis.title=element_text(size=24,face='bold')) +
                             theme(plot.margin=unit(c(1,1,1,1),"pt"))
                             return(plyrs)                             
                             },
                         show_mean = function(){
                             plyrs <- draw_freq()
                             plyrs <- plyrs +
                                     geom_point(aes(x=mean(df[,1]),y=0),shape=17,size=6,fill='black')
                             return(plyrs)
                         },
                         show_std = function(){
                             stdev = sqrt(sum((df[,1]-mean(df[,1]))^2)/length(df[,1]))
                             plyrs = show_mean() +
                             geom_point(aes(x=mean(df[,1]),y=0),shape=17,size=6,fill='black') +
                             geom_vline(xintercept = mean(df[,1]),linetype='dotdash',lwd=2) +
                             geom_vline(xintercept = mean(df[,1])+stdev,linetype='dotdash',lwd=1) +
                             geom_vline(xintercept = mean(df[,1])+2*stdev,linetype='dotdash',lwd=0.5) +
                             geom_vline(xintercept = mean(df[,1])-stdev,linetype='dotdash',lwd=1) +
                             geom_vline(xintercept = mean(df[,1])-2*stdev,linetype='dotdash',lwd=0.5)
                             return(plyrs)
                         }
                     ))
```
### Calling the object
```R
s <- drawdata(values=heights,freqs=freq, 
              xaxname = "Height in cm", yaxname = "Frequencies")
```
### Figures that describe statistics

```R
options(repr.plot.width = 10, repr.plot.height = 8)
s$draw_freq()
```
<img src="/assets/images/ch1/R_1_files/R_1_2_0.png" alt="freq_diag_r" width="500" height="500">

```R
s$show_mean()
```
<img src="/assets/images/ch1/R_1_files/R_1_3_0.png" alt="mean_diag_r" width="500" height="500">

```R
s$show_std()
```
<img src="/assets/images/ch1/R_1_files/R_1_4_0.png" alt="sd_diag_r" width="500" height="500">

